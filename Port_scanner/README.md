# Port Scanner README

## Overview

This Port Scanner script is a Python-based tool for scanning a range of ports on a specified IP address to identify open and closed ports. It is designed for educational and ethical hacking purposes, providing a straightforward way to understand the basics of port scanning and network security.

## Features

- **IP Address Validation**: Ensures that the provided IP address is valid before proceeding with the scan.
- **Port Range Validation**: Allows users to specify a range of ports or individual ports to scan, with input validation.
- **Port Scanning**: Scans the specified ports on the provided IP address and identifies open and closed ports.
- **Progress Bar**: Displays a progress bar to indicate the scanning progress.
- **Summary Report**: Provides a summary of the scan, including the number of open and closed ports and lists the open ports.

## Dependencies

- **socket**: For network communication.
- **ipaddress**: For IP address validation.
- **sys**: For system-specific parameters and functions.
- **time**: For adding delays and managing timeouts.
- **figlet_one**: For displaying a styled title (custom module).

## How to Use

1. **Run the Script**:

   ```bash
   python3 port_scanner.py
   ```

2. **Input Port Range**: When prompted, enter the port range in one of the following formats:
   - Single port: `80`
   - Range of ports: `40-400`
   - Combination: `40-80,100,200-300`

3. **Input IP Address**: Enter the IP address of the target network.

4. **View Results**: The script will display a progress bar during the scan and provide a summary report upon completion.

## Code Highlights

### IP Address Validation

```python
def validate_ip(ip):
    try:
        ipaddress.ip_address(ip)
        return True
    except ValueError:
        return False
```

This function checks if the provided IP address is valid.

### Port Range Validation

```python
def validate_ports(port_range):
    ports = []
    for part in port_range.split(','):
        if '-' in part:
            start, end = part.split('-')
            if not start.isdigit() or not end.isdigit():
                return None
            ports.extend(range(int(start), int(end) + 1))
        else:
            if not part.isdigit():
                return None
            ports.append(int(part))
    return ports
```

This function validates and parses the port range input by the user.

### Port Scanning

```python
def scan_ports(ports, ip):
    open_ports = []
    closed_ports = []
    total_ports = len(ports)

    for i, port in enumerate(ports):
        sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        sock.settimeout(1)
        result = sock.connect_ex((ip, port))
        if result == 0:
            open_ports.append(port)
        else:
            closed_ports.append(port)
        sock.close()

        # Update progress bar
        progress = int((i + 1) / total_ports * 100)
        progress_bar = f"[{'#' * (progress // 2)}{' ' * (50 - (progress // 2))}] {progress}%"
        print(f"\r{progress_bar}", end='')

    return open_ports, closed_ports
```

This function performs the actual port scanning and updates the progress bar.

### Main Execution

```python
if __name__ == "__main__":
    print("-------------------------------------------------------------------")
    print_title('Port Scanner', 'By Shina Salau')
    print("-------------------------------------------------------------------")
    try:
        port_range = input("Enter port range (e.g., 80 or 40-400 or 40-80,100,200-300): ")
        ip_address = input("Enter IP address: ")

        if not validate_ip(ip_address):
            print("\nInvalid IP address.")
            print("Usage: python3 port_scanner.py <port1-port2> <IP address of target network>")
            sys.exit(1)

        ports = validate_ports(port_range)
        if ports is None:
            print("\nInvalid port range.")
            print("Usage: python3 port_scanner.py <port1-port2> <IP address of target network>")
            sys.exit(1)

        print(f"\nScanning {ip_address} on ports {port_range}...")

        open_ports, closed_ports = scan_ports(ports, ip_address)

        print("\n\nScan Complete")
        print("\nSummary:")
        print(f"Total open ports: {len(open_ports)}")
        print(f"Total closed ports: {len(closed_ports)}")
        if open_ports:
            print(f"Open ports: {', '.join(map(str, open_ports))}")

    except KeyboardInterrupt:
        print("\nYou have ended this program abruptly!")
        sys.exit(0)
```

This is the main section of the script that handles user input, validates it, and initiates the port scanning process.

## Disclaimer

This tool is intended for educational and ethical hacking purposes only. Unauthorized use of this tool on networks without permission is illegal and unethical. Always obtain proper authorization before scanning any network.
